root@srv684502:~# cd /home/tkoin-betwin/htdocs/betwin.tkoin.finance
root@srv684502:/home/tkoin-betwin/htdocs/betwin.tkoin.finance# cd /home/tkoin-betwin/htdocs/betwin.tkoin.finance

echo "=== 1. Check if menu injector exists ==="
ls -lh public/js/tkoin-menu-injector.js 2>/dev/null || echo "‚ùå Not created yet"

echo ""
echo "=== 2. Show current index.blade.php (last 30 lines) ==="
tail -30 resources/views/index.blade.php

echo ""
echo "=== 3. Check components/tkoin-wallet.blade.php for duplicate JS ==="
grep -n "tkoin-wallet.js" resources/views/components/tkoin-wallet.blade.php

echo ""
echo "=== 4. Check TkoinController view path ==="
grep "return view" app/Http/Controllers/TkoinController.php

echo ""
echo "=== 5. List all tkoin-related JS files ==="
ls -lh public/js/*tkoin* 2>/dev/null || echo "No tkoin JS files found"
=== 1. Check if menu injector exists ===
-rw-rw-r-- 1 root root 2.9K Nov 24 00:17 public/js/tkoin-menu-injector.js

=== 2. Show current index.blade.php (last 30 lines) ===
  <!-- Font Awesome (required for Tkoin Wallet icons) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  @foreach($stylesheets as $stylesheet)
    <link href="{{ $stylesheet }}" rel="stylesheet">
  @endforeach

  <noscript>
    <h3>{{ __('Please enable JavaScript in your browser.') }}</h3>
  </noscript>
</head>
<body onload="if(window !== window.top) window.top.location = window.location">
  <div id="app"></div>

  <script>
    window.store = "{{ $store }}"
  </script>

  <script src="{{ asset('js/app.js') . '?' . md5(config('app.version')) }}"></script>
  
  <!-- Bootstrap JS (required for Tkoin Wallet modals) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Tkoin Menu Injector -->
  <script src="{{ asset('js/tkoin-menu-injector.js') }}"></script>
  
  {!! $javascript !!}
  
</body>
</html>

=== 3. Check components/tkoin-wallet.blade.php for duplicate JS ===
323:<script src="{{ asset('js/tkoin-wallet.js') }}"></script>

=== 4. Check TkoinController view path ===
        return view('user.tkoin-wallet', [

=== 5. List all tkoin-related JS files ===
-rw-rw-r-- 1 root         root         2.9K Nov 24 00:17 public/js/tkoin-menu-injector.js
-rw-rw-r-- 1 tkoin-betwin tkoin-betwin 8.2K Nov 23 08:44 public/js/tkoin-wallet.js
-rw-rw-r-- 1 tkoin-betwin tkoin-betwin 7.3K Nov 23 08:44 public/js/tkoin-wallet.js.backup
root@srv684502:/home/tkoin-betwin/htdocs/betwin.tkoin.finance# ^C
root@srv684502:/home/tkoin-betwin/htdocs/betwin.tkoin.finance# cd /home/tkoin-betwin/htdocs/betwin.tkoin.finance

# 1. Remove duplicate JS loading from component (line 323)
echo "=== Removing duplicate JS from component ==="
sed -i '323d' resources/views/components/tkoin-wallet.blade.php

# 2. Verify the fix
echo ""
echo "=== Verifying duplicate removed ==="
grep -n "tkoin-wallet.js" resources/views/components/tkoin-wallet.blade.php && echo "‚ùå Still found!" || echo "‚úÖ Duplicate removed!"

# 3. Clear Laravel cache
php artisan view:clear
php artisan cache:clear

echo ""
echo "‚úÖ Duplicate JS loading fixed!"
echo ""
echo "üß™ NOW TEST:"
echo "1. Go to https://betwin.tkoin.finance"
echo "2. Hard refresh (Ctrl+F5)"
echo "3. Open browser console (F12)"
echo "4. Check for errors - the 'TkoinWallet already declared' should be GONE"
echo "5. Click your avatar menu"
echo "6. Look for console logs starting with '‚úì' or '‚úÖ'"
echo ""
echo "üìã Send me a screenshot of:"
echo "   - Browser console (F12)"
echo "   - The user dropdown menu"
=== Removing duplicate JS from component ===

=== Verifying duplicate removed ===
‚úÖ Duplicate removed!

   INFO  Compiled views cleared successfully.  


   INFO  Application cache cleared successfully.  


‚úÖ Duplicate JS loading fixed!

üß™ NOW TEST:
1. Go to https://betwin.tkoin.finance
2. Hard refresh (Ctrl+F5)
3. Open browser console (F12)
4. Check for errors - the 'TkoinWallet already declared' should be GONE
5. Click your avatar menu
6. Look for console logs starting with '‚úì' or '‚úÖ'

üìã Send me a screenshot of:
   - Browser console (F12)
   - The user dropdown menu
root@srv684502:/home/tkoin-betwin/htdocs/betwin.tkoin.finance# 